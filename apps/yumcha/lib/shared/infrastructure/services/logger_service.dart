import 'package:logger/logger.dart';

/// æ—¥å¿—è®°å½•æœåŠ¡ - ç»Ÿä¸€çš„åº”ç”¨æ—¥å¿—ç®¡ç†ç³»ç»Ÿ
///
/// LoggerServiceæ˜¯æ•´ä¸ªåº”ç”¨çš„æ—¥å¿—è®°å½•ä¸­å¿ƒï¼Œæä¾›ï¼š
/// - ğŸ“ **ç»Ÿä¸€æ—¥å¿—æ¥å£**ï¼šæ ‡å‡†åŒ–çš„æ—¥å¿—è®°å½•æ–¹æ³•
/// - ğŸ¨ **ç¾è§‚è¾“å‡ºæ ¼å¼**ï¼šå½©è‰²ã€ç»“æ„åŒ–çš„æ—¥å¿—æ˜¾ç¤º
/// - ğŸ”§ **ç¯å¢ƒé€‚é…**ï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸åŒæ—¥å¿—ç­–ç•¥
/// - ğŸ¤– **AIä¸“ç”¨æ—¥å¿—**ï¼šé’ˆå¯¹AIåŠŸèƒ½çš„ä¸“é—¨æ—¥å¿—æ–¹æ³•
/// - âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šé«˜æ•ˆçš„æ—¥å¿—è¿‡æ»¤å’Œè¾“å‡º
///
/// ## ğŸ—ï¸ æ¶æ„è®¾è®¡
///
/// ### å•ä¾‹æ¨¡å¼
/// ç¡®ä¿å…¨åº”ç”¨ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—é…ç½®å’Œå®ä¾‹ï¼š
/// ```dart
/// final logger = LoggerService(); // æ€»æ˜¯è¿”å›åŒä¸€ä¸ªå®ä¾‹
/// ```
///
/// ### åˆ†çº§æ—¥å¿—
/// æ”¯æŒ5ä¸ªæ ‡å‡†æ—¥å¿—çº§åˆ«ï¼š
/// - ğŸ› **Debug**: è°ƒè¯•ä¿¡æ¯ï¼Œä»…å¼€å‘ç¯å¢ƒæ˜¾ç¤º
/// - â„¹ï¸ **Info**: ä¸€èˆ¬ä¿¡æ¯ï¼Œè®°å½•é‡è¦æ“ä½œ
/// - âš ï¸ **Warning**: è­¦å‘Šä¿¡æ¯ï¼Œéœ€è¦æ³¨æ„ä½†ä¸å½±å“åŠŸèƒ½
/// - âŒ **Error**: é”™è¯¯ä¿¡æ¯ï¼ŒåŠŸèƒ½å¼‚å¸¸ä½†åº”ç”¨å¯ç»§ç»­
/// - ğŸ’€ **Fatal**: è‡´å‘½é”™è¯¯ï¼Œåº”ç”¨å¯èƒ½å´©æºƒ
///
/// ### AIä¸“ç”¨æ—¥å¿—
/// é’ˆå¯¹AIåŠŸèƒ½æä¾›ä¸“é—¨çš„æ—¥å¿—æ–¹æ³•ï¼š
/// - ğŸ¤– **AIè¯·æ±‚**: è®°å½•AIè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯
/// - âœ… **AIå“åº”**: è®°å½•AIå“åº”å’Œæ€§èƒ½æ•°æ®
/// - ğŸ“¡ **æµå¼æ•°æ®**: è®°å½•æµå¼AIå“åº”çš„è¿›åº¦
/// - âŒ **AIé”™è¯¯**: è®°å½•AIç›¸å…³çš„é”™è¯¯ä¿¡æ¯
///
/// ## ğŸ¨ è¾“å‡ºç‰¹æ€§
///
/// ### ç¾è§‚æ ¼å¼
/// - **å½©è‰²è¾“å‡º**: ä¸åŒçº§åˆ«ä½¿ç”¨ä¸åŒé¢œè‰²
/// - **è¡¨æƒ…ç¬¦å·**: ä½¿ç”¨emojiå¢å¼ºå¯è¯»æ€§
/// - **æ—¶é—´æˆ³**: æ˜¾ç¤ºç²¾ç¡®çš„æ—¶é—´ä¿¡æ¯
/// - **è°ƒç”¨æ ˆ**: æ˜¾ç¤ºæ–¹æ³•è°ƒç”¨é“¾è·¯
///
/// ### æ™ºèƒ½è¿‡æ»¤
/// - **å¼€å‘ç¯å¢ƒ**: æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—çº§åˆ«
/// - **ç”Ÿäº§ç¯å¢ƒ**: åªæ˜¾ç¤ºWarningåŠä»¥ä¸Šçº§åˆ«
/// - **å¯é…ç½®**: æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤ç­–ç•¥
///
/// ## ğŸš€ ä½¿ç”¨ç¤ºä¾‹
///
/// ### åŸºç¡€æ—¥å¿—è®°å½•
/// ```dart
/// final logger = LoggerService();
///
/// logger.debug('è°ƒè¯•ä¿¡æ¯');
/// logger.info('æ“ä½œæˆåŠŸ');
/// logger.warning('æ³¨æ„äº‹é¡¹');
/// logger.error('å‘ç”Ÿé”™è¯¯');
/// logger.fatal('ä¸¥é‡é”™è¯¯');
/// ```
///
/// ### AIä¸“ç”¨æ—¥å¿—
/// ```dart
/// // AIè¯·æ±‚å¼€å§‹
/// logger.aiRequest('assistant-1', 'gpt-4', {'message': 'Hello'});
///
/// // AIå“åº”æˆåŠŸ
/// logger.aiResponse('assistant-1', 'Hello there!', Duration(seconds: 2));
///
/// // AIé”™è¯¯å¤„ç†
/// logger.aiError('assistant-1', 'API rate limit exceeded', Duration(seconds: 1));
/// ```
///
/// ## âš™ï¸ é…ç½®é€‰é¡¹
/// - **Releaseæ¨¡å¼æ—¥å¿—**: å¯é€‰æ‹©åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨æ—¥å¿—
/// - **è¾“å‡ºæ ¼å¼**: å¯è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼å’Œæ ·å¼
/// - **æ€§èƒ½ä¼˜åŒ–**: è‡ªåŠ¨ä¼˜åŒ–é«˜é¢‘æ—¥å¿—çš„è¾“å‡º
class LoggerService {
  // å•ä¾‹æ¨¡å¼å®ç°
  static final LoggerService _instance = LoggerService._internal();
  factory LoggerService() => _instance;
  LoggerService._internal();

  /// åº•å±‚æ—¥å¿—è®°å½•å™¨å®ä¾‹
  /// ä½¿ç”¨loggeråŒ…æä¾›çš„Loggerç±»ï¼Œé…ç½®äº†ç¾è§‚çš„è¾“å‡ºæ ¼å¼
  late final Logger _logger;

  /// åˆå§‹åŒ–æ—¥å¿—æœåŠ¡
  ///
  /// é…ç½®æ—¥å¿—è®°å½•å™¨çš„è¾“å‡ºæ ¼å¼ã€è¿‡æ»¤ç­–ç•¥å’Œç¯å¢ƒé€‚é…ã€‚
  /// è¿™ä¸ªæ–¹æ³•åº”è¯¥åœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚
  ///
  /// ## ğŸ¨ è¾“å‡ºé…ç½®
  ///
  /// ### ç¾è§‚æ‰“å°å™¨ (PrettyPrinter)
  /// - **methodCount: 2**: æ˜¾ç¤º2å±‚æ–¹æ³•è°ƒç”¨æ ˆï¼Œå¸®åŠ©å®šä½æ—¥å¿—æ¥æº
  /// - **errorMethodCount: 8**: é”™è¯¯æ—¶æ˜¾ç¤º8å±‚è°ƒç”¨æ ˆï¼Œä¾¿äºè°ƒè¯•
  /// - **lineLength: 120**: æ§åˆ¶å°è¾“å‡ºè¡Œé•¿åº¦ï¼Œé€‚é…å¤§å¤šæ•°ç»ˆç«¯
  /// - **colors: true**: å¯ç”¨å½©è‰²è¾“å‡ºï¼Œä¸åŒçº§åˆ«ä½¿ç”¨ä¸åŒé¢œè‰²
  /// - **printEmojis: true**: æ˜¾ç¤ºemojiå›¾æ ‡ï¼Œå¢å¼ºå¯è¯»æ€§
  /// - **dateTimeFormat**: æ˜¾ç¤ºæ—¶é—´æˆ³å’Œå¯åŠ¨åç»è¿‡æ—¶é—´
  ///
  /// ### ç¯å¢ƒè¿‡æ»¤ç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ (DevelopmentFilter)**: æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—çº§åˆ«
  /// - **ç”Ÿäº§ç¯å¢ƒ (ProductionFilter)**: åªæ˜¾ç¤ºWarningåŠä»¥ä¸Šçº§åˆ«
  ///
  /// @param enableInReleaseMode æ˜¯å¦åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨æ—¥å¿—
  ///   - `false` (é»˜è®¤): ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ProductionFilter
  ///   - `true`: ç”Ÿäº§ç¯å¢ƒä¹Ÿä½¿ç”¨DevelopmentFilter
  ///
  /// ## ğŸš€ ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// // åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–
  /// void main() {
  ///   final logger = LoggerService();
  ///   logger.initialize(); // ä½¿ç”¨é»˜è®¤é…ç½®
  ///
  ///   // æˆ–è€…å¯ç”¨ç”Ÿäº§ç¯å¢ƒæ—¥å¿—
  ///   logger.initialize(enableInReleaseMode: true);
  ///
  ///   runApp(MyApp());
  /// }
  /// ```
  ///
  /// ## âš ï¸ æ³¨æ„äº‹é¡¹
  /// - å¿…é¡»åœ¨ä½¿ç”¨å…¶ä»–æ—¥å¿—æ–¹æ³•å‰è°ƒç”¨
  /// - åªéœ€è¦è°ƒç”¨ä¸€æ¬¡ï¼Œé‡å¤è°ƒç”¨ä¼šè¦†ç›–ä¹‹å‰çš„é…ç½®
  /// - ç”Ÿäº§ç¯å¢ƒå¯ç”¨æ—¥å¿—å¯èƒ½å½±å“æ€§èƒ½
  void initialize({bool enableInReleaseMode = false}) {
    _logger = Logger(
      printer: PrettyPrinter(
        methodCount: 2, // æ˜¾ç¤ºæ–¹æ³•è°ƒç”¨æ ˆçš„å±‚æ•°
        errorMethodCount: 8, // é”™è¯¯æ—¶æ˜¾ç¤ºæ›´å¤šè°ƒç”¨æ ˆ
        lineLength: 120, // æ§åˆ¶å°è¾“å‡ºçš„è¡Œé•¿åº¦
        colors: true, // å½©è‰²è¾“å‡º
        printEmojis: true, // æ˜¾ç¤ºemojiå›¾æ ‡
        dateTimeFormat: DateTimeFormat.onlyTimeAndSinceStart, // æ˜¾ç¤ºæ—¶é—´æˆ³
      ),
      filter: enableInReleaseMode ? ProductionFilter() : DevelopmentFilter(),
    );
  }

  // ============================================================================
  // åŸºç¡€æ—¥å¿—æ–¹æ³• - æ ‡å‡†çš„åˆ†çº§æ—¥å¿—è®°å½•æ¥å£
  // ============================================================================

  /// è°ƒè¯•æ—¥å¿— - è®°å½•è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
  ///
  /// ç”¨äºè®°å½•å¼€å‘è¿‡ç¨‹ä¸­çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚
  ///
  /// ## ğŸ¯ ä½¿ç”¨åœºæ™¯
  /// - å˜é‡å€¼è·Ÿè¸ª
  /// - æ–¹æ³•æ‰§è¡Œæµç¨‹
  /// - æ¡ä»¶åˆ†æ”¯åˆ¤æ–­
  /// - å¾ªç¯è¿­ä»£è¿‡ç¨‹
  ///
  /// ## ğŸ“± æ˜¾ç¤ºç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  /// - **ç”Ÿäº§ç¯å¢ƒ**: é»˜è®¤ä¸æ˜¾ç¤ºï¼ˆé™¤éç‰¹åˆ«é…ç½®ï¼‰
  ///
  /// @param message è°ƒè¯•æ¶ˆæ¯å†…å®¹
  /// @param error å¯é€‰çš„é”™è¯¯å¯¹è±¡æˆ–é™„åŠ æ•°æ®
  /// @param stackTrace å¯é€‰çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.debug('ç”¨æˆ·ID: $userId');
  /// logger.debug('å¤„ç†è¯·æ±‚', {'url': url, 'method': method});
  /// logger.debug('å¼‚å¸¸æ•è·', exception, stackTrace);
  /// ```
  void debug(String message, [dynamic error, StackTrace? stackTrace]) {
    _logger.d(message, error: error, stackTrace: stackTrace);
  }

  /// ä¿¡æ¯æ—¥å¿— - è®°å½•é‡è¦çš„æ“ä½œä¿¡æ¯
  ///
  /// ç”¨äºè®°å½•åº”ç”¨çš„é‡è¦æ“ä½œå’ŒçŠ¶æ€å˜åŒ–ï¼Œæ˜¯æœ€å¸¸ç”¨çš„æ—¥å¿—çº§åˆ«ã€‚
  ///
  /// ## ğŸ¯ ä½¿ç”¨åœºæ™¯
  /// - ç”¨æˆ·æ“ä½œè®°å½•
  /// - æœåŠ¡å¯åŠ¨/åœæ­¢
  /// - é‡è¦åŠŸèƒ½æ‰§è¡Œ
  /// - çŠ¶æ€å˜æ›´é€šçŸ¥
  ///
  /// ## ğŸ“± æ˜¾ç¤ºç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  /// - **ç”Ÿäº§ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  ///
  /// @param message ä¿¡æ¯æ¶ˆæ¯å†…å®¹
  /// @param error å¯é€‰çš„é™„åŠ æ•°æ®ï¼ˆé€šå¸¸æ˜¯Mapæˆ–å¯¹è±¡ï¼‰
  /// @param stackTrace å¯é€‰çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.info('ç”¨æˆ·ç™»å½•æˆåŠŸ');
  /// logger.info('æ•°æ®åº“è¿æ¥å»ºç«‹', {'host': host, 'port': port});
  /// logger.info('æ–‡ä»¶ä¸Šä¼ å®Œæˆ', {'fileName': name, 'size': size});
  /// ```
  void info(String message, [dynamic error, StackTrace? stackTrace]) {
    _logger.i(message, error: error, stackTrace: stackTrace);
  }

  /// è­¦å‘Šæ—¥å¿— - è®°å½•éœ€è¦æ³¨æ„çš„é—®é¢˜
  ///
  /// ç”¨äºè®°å½•å¯èƒ½å½±å“åŠŸèƒ½ä½†ä¸ä¼šå¯¼è‡´å¤±è´¥çš„é—®é¢˜ã€‚
  ///
  /// ## ğŸ¯ ä½¿ç”¨åœºæ™¯
  /// - é…ç½®ç¼ºå¤±æˆ–ä¸å½“
  /// - æ€§èƒ½é—®é¢˜è­¦å‘Š
  /// - å…¼å®¹æ€§é—®é¢˜
  /// - èµ„æºä½¿ç”¨è­¦å‘Š
  ///
  /// ## ğŸ“± æ˜¾ç¤ºç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  /// - **ç”Ÿäº§ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  ///
  /// @param message è­¦å‘Šæ¶ˆæ¯å†…å®¹
  /// @param error å¯é€‰çš„é”™è¯¯å¯¹è±¡æˆ–é™„åŠ æ•°æ®
  /// @param stackTrace å¯é€‰çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.warning('APIå“åº”æ—¶é—´è¾ƒé•¿');
  /// logger.warning('ä½¿ç”¨äº†å·²åºŸå¼ƒçš„æ–¹æ³•', {'method': methodName});
  /// logger.warning('å†…å­˜ä½¿ç”¨ç‡è¾ƒé«˜', {'usage': '85%'});
  /// ```
  void warning(String message, [dynamic error, StackTrace? stackTrace]) {
    _logger.w(message, error: error, stackTrace: stackTrace);
  }

  /// é”™è¯¯æ—¥å¿— - è®°å½•åŠŸèƒ½å¼‚å¸¸å’Œé”™è¯¯
  ///
  /// ç”¨äºè®°å½•å½±å“åŠŸèƒ½æ­£å¸¸è¿è¡Œçš„é”™è¯¯ï¼Œä½†åº”ç”¨ä»å¯ç»§ç»­è¿è¡Œã€‚
  ///
  /// ## ğŸ¯ ä½¿ç”¨åœºæ™¯
  /// - APIè¯·æ±‚å¤±è´¥
  /// - æ•°æ®å¤„ç†é”™è¯¯
  /// - æ–‡ä»¶æ“ä½œå¤±è´¥
  /// - ç½‘ç»œè¿æ¥é—®é¢˜
  ///
  /// ## ğŸ“± æ˜¾ç¤ºç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  /// - **ç”Ÿäº§ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  ///
  /// @param message é”™è¯¯æ¶ˆæ¯å†…å®¹
  /// @param error å¯é€‰çš„é”™è¯¯å¯¹è±¡ï¼ˆExceptionã€Errorç­‰ï¼‰
  /// @param stackTrace å¯é€‰çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.error('APIè¯·æ±‚å¤±è´¥');
  /// logger.error('æ•°æ®è§£æé”™è¯¯', exception);
  /// logger.error('æ–‡ä»¶è¯»å–å¤±è´¥', error, stackTrace);
  /// ```
  void error(String message, [dynamic error, StackTrace? stackTrace]) {
    _logger.e(message, error: error, stackTrace: stackTrace);
  }

  /// è‡´å‘½é”™è¯¯æ—¥å¿— - è®°å½•ä¸¥é‡çš„ç³»ç»Ÿé”™è¯¯
  ///
  /// ç”¨äºè®°å½•å¯èƒ½å¯¼è‡´åº”ç”¨å´©æºƒæˆ–æ ¸å¿ƒåŠŸèƒ½å®Œå…¨å¤±æ•ˆçš„ä¸¥é‡é”™è¯¯ã€‚
  ///
  /// ## ğŸ¯ ä½¿ç”¨åœºæ™¯
  /// - ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥
  /// - æ ¸å¿ƒæœåŠ¡å´©æºƒ
  /// - æ•°æ®åº“è¿æ¥å®Œå…¨å¤±è´¥
  /// - å†…å­˜ä¸è¶³ç­‰ç³»ç»Ÿçº§é”™è¯¯
  ///
  /// ## ğŸ“± æ˜¾ç¤ºç­–ç•¥
  /// - **å¼€å‘ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  /// - **ç”Ÿäº§ç¯å¢ƒ**: æ­£å¸¸æ˜¾ç¤º
  ///
  /// @param message è‡´å‘½é”™è¯¯æ¶ˆæ¯å†…å®¹
  /// @param error å¯é€‰çš„é”™è¯¯å¯¹è±¡
  /// @param stackTrace å¯é€‰çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.fatal('åº”ç”¨åˆå§‹åŒ–å¤±è´¥');
  /// logger.fatal('æ•°æ®åº“è¿æ¥å®Œå…¨å¤±è´¥', exception);
  /// logger.fatal('å†…å­˜ä¸è¶³ï¼Œåº”ç”¨å³å°†å´©æºƒ', error, stackTrace);
  /// ```
  void fatal(String message, [dynamic error, StackTrace? stackTrace]) {
    _logger.f(message, error: error, stackTrace: stackTrace);
  }

  // ============================================================================
  // AIä¸“ç”¨æ—¥å¿—æ–¹æ³• - é’ˆå¯¹AIåŠŸèƒ½ä¼˜åŒ–çš„æ—¥å¿—è®°å½•æ¥å£
  // ============================================================================

  /// AIè¯·æ±‚æ—¥å¿— - è®°å½•AIè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯
  ///
  /// ä¸“é—¨ç”¨äºè®°å½•å‘é€ç»™AIæä¾›å•†çš„è¯·æ±‚ä¿¡æ¯ï¼Œå¸®åŠ©è·Ÿè¸ªAIåŠŸèƒ½çš„ä½¿ç”¨æƒ…å†µã€‚
  ///
  /// ## ğŸ¯ è®°å½•å†…å®¹
  /// - **åŠ©æ‰‹ä¿¡æ¯**: ä½¿ç”¨çš„AIåŠ©æ‰‹IDå’Œé…ç½®
  /// - **æ¨¡å‹ä¿¡æ¯**: ä½¿ç”¨çš„AIæ¨¡å‹åç§°
  /// - **è¯·æ±‚è¯¦æƒ…**: å®Œæ•´çš„è¯·æ±‚å‚æ•°å’Œå†…å®¹
  ///
  /// ## ğŸ“Š ç”¨é€”
  /// - **è°ƒè¯•AIé—®é¢˜**: æŸ¥çœ‹å…·ä½“çš„è¯·æ±‚å‚æ•°
  /// - **æ€§èƒ½åˆ†æ**: åˆ†æä¸åŒæ¨¡å‹çš„ä½¿ç”¨æƒ…å†µ
  /// - **ç”¨é‡ç»Ÿè®¡**: ç»Ÿè®¡AIåŠŸèƒ½çš„ä½¿ç”¨é¢‘ç‡
  /// - **é—®é¢˜æ’æŸ¥**: å®šä½AIè¯·æ±‚å¤±è´¥çš„åŸå› 
  ///
  /// @param assistantId AIåŠ©æ‰‹çš„å”¯ä¸€æ ‡è¯†ç¬¦
  /// @param model ä½¿ç”¨çš„AIæ¨¡å‹åç§°ï¼ˆå¦‚'gpt-4', 'claude-3'ç­‰ï¼‰
  /// @param request è¯·æ±‚çš„è¯¦ç»†å‚æ•°ï¼ŒåŒ…å«æ¶ˆæ¯å†…å®¹ã€é…ç½®ç­‰
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.aiRequest(
  ///   'coding-assistant',
  ///   'gpt-4',
  ///   {
  ///     'messages': messages,
  ///     'temperature': 0.7,
  ///     'maxTokens': 1000,
  ///   },
  /// );
  /// ```
  void aiRequest(
    String assistantId,
    String model,
    Map<String, dynamic> request,
  ) {
    _logger.i(
      'ğŸ¤– AIè¯·æ±‚',
      error: {'assistantId': assistantId, 'model': model, 'request': request},
    );
  }

  /// AIå“åº”æˆåŠŸæ—¥å¿— - è®°å½•AIå“åº”çš„æˆåŠŸä¿¡æ¯
  ///
  /// è®°å½•AIæä¾›å•†è¿”å›çš„æˆåŠŸå“åº”ï¼ŒåŒ…å«æ€§èƒ½æ•°æ®å’Œå†…å®¹é¢„è§ˆã€‚
  ///
  /// ## ğŸ“Š è®°å½•æ•°æ®
  /// - **å“åº”æ—¶é—´**: ä»è¯·æ±‚åˆ°å“åº”çš„æ€»è€—æ—¶
  /// - **å†…å®¹é•¿åº¦**: å“åº”å†…å®¹çš„å­—ç¬¦æ•°
  /// - **å†…å®¹é¢„è§ˆ**: å“åº”å†…å®¹çš„å‰100ä¸ªå­—ç¬¦
  /// - **åŠ©æ‰‹ä¿¡æ¯**: å¤„ç†è¯·æ±‚çš„åŠ©æ‰‹ID
  ///
  /// ## ğŸ¯ åˆ†æä»·å€¼
  /// - **æ€§èƒ½ç›‘æ§**: è·Ÿè¸ªAIå“åº”é€Ÿåº¦
  /// - **è´¨é‡è¯„ä¼°**: é€šè¿‡å†…å®¹é¢„è§ˆå¿«é€Ÿè¯„ä¼°å“åº”è´¨é‡
  /// - **ä½¿ç”¨ç»Ÿè®¡**: ç»Ÿè®¡æˆåŠŸè¯·æ±‚çš„æ•°é‡å’Œæ¨¡å¼
  /// - **ä¼˜åŒ–ä¾æ®**: ä¸ºæ€§èƒ½ä¼˜åŒ–æä¾›æ•°æ®æ”¯æŒ
  ///
  /// @param assistantId AIåŠ©æ‰‹çš„å”¯ä¸€æ ‡è¯†ç¬¦
  /// @param response AIè¿”å›çš„å®Œæ•´å“åº”å†…å®¹
  /// @param duration è¯·æ±‚å¤„ç†çš„æ€»è€—æ—¶
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.aiResponse(
  ///   'coding-assistant',
  ///   'Here is the code you requested...',
  ///   Duration(milliseconds: 1500),
  /// );
  /// ```
  void aiResponse(String assistantId, String response, Duration duration) {
    _logger.i(
      'âœ… AIå“åº”æˆåŠŸ',
      error: {
        'assistantId': assistantId,
        'duration': '${duration.inMilliseconds}ms',
        'responseLength': response.length,
        'preview': response.length > 100
            ? '${response.substring(0, 100)}...'
            : response,
      },
    );
  }

  /// AIé”™è¯¯æ—¥å¿— - è®°å½•AIè¯·æ±‚å¤±è´¥çš„è¯¦ç»†ä¿¡æ¯
  ///
  /// ä¸“é—¨è®°å½•AIåŠŸèƒ½ç›¸å…³çš„é”™è¯¯ï¼ŒåŒ…å«é”™è¯¯åŸå› å’Œæ€§èƒ½æ•°æ®ã€‚
  ///
  /// ## ğŸ” é”™è¯¯åˆ†æ
  /// - **é”™è¯¯ç±»å‹**: ç½‘ç»œé”™è¯¯ã€APIé”™è¯¯ã€é…ç½®é”™è¯¯ç­‰
  /// - **å¤±è´¥æ—¶é—´**: è¯·æ±‚å¤±è´¥æ—¶çš„è€—æ—¶ï¼ˆå¦‚æœæœ‰ï¼‰
  /// - **åŠ©æ‰‹ä¿¡æ¯**: å‘ç”Ÿé”™è¯¯çš„åŠ©æ‰‹ID
  /// - **é”™è¯¯è¯¦æƒ…**: å…·ä½“çš„é”™è¯¯æ¶ˆæ¯å’ŒåŸå› 
  ///
  /// ## ğŸ¯ æ’æŸ¥ä»·å€¼
  /// - **é—®é¢˜å®šä½**: å¿«é€Ÿå®šä½AIåŠŸèƒ½é—®é¢˜
  /// - **é”™è¯¯ç»Ÿè®¡**: ç»Ÿè®¡ä¸åŒç±»å‹é”™è¯¯çš„é¢‘ç‡
  /// - **ç¨³å®šæ€§ç›‘æ§**: ç›‘æ§AIæœåŠ¡çš„ç¨³å®šæ€§
  /// - **ç”¨æˆ·ä½“éªŒ**: æ”¹å–„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
  ///
  /// @param assistantId AIåŠ©æ‰‹çš„å”¯ä¸€æ ‡è¯†ç¬¦
  /// @param error é”™è¯¯ä¿¡æ¯æˆ–å¼‚å¸¸æè¿°
  /// @param duration è¯·æ±‚å¤±è´¥æ—¶çš„è€—æ—¶ï¼ˆå¯èƒ½ä¸ºnullï¼‰
  ///
  /// ## ä½¿ç”¨ç¤ºä¾‹
  /// ```dart
  /// logger.aiError(
  ///   'coding-assistant',
  ///   'API rate limit exceeded',
  ///   Duration(milliseconds: 500),
  /// );
  /// ```
  void aiError(String assistantId, String error, Duration? duration) {
    _logger.e(
      'âŒ AIè¯·æ±‚å¤±è´¥',
      error: {
        'assistantId': assistantId,
        'duration': duration != null
            ? '${duration.inMilliseconds}ms'
            : 'unknown',
        'error': error,
      },
    );
  }
}
